[{"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\index.js":"1","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\App.js":"2","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\reducers\\index.js":"3","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Upload.js":"4","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Home\\Home.js":"5","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Navbar\\Navbar.js":"6","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\screens\\RegisterScreen.js":"7","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Terms\\Terms.js":"8","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\screens\\LoginScreen.js":"9","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\screens\\ForgotPasswordScree.js":"10","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\screens\\ResetPasswordScreen.js":"11","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\CreatorOrTag\\CreatorOrTag.jsx":"12","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\reducers\\auth.js":"13","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\reducers\\posts.js":"14","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Home\\styles.js":"15","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Navbar\\styles.js":"16","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Form\\Form.js":"17","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\actions\\posts.js":"18","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Posts\\Posts.js":"19","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\constants\\actionTypes.js":"20","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Pagination.jsx":"21","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Posts\\Post\\Post.js":"22","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\api\\index.js":"23","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Form\\styles.js":"24","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Posts\\styles.js":"25","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\styles.js":"26","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Posts\\Post\\styles.js":"27","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Payment\\PaystackIntegration.js":"28"},{"size":601,"mtime":1671408681338,"results":"29","hashOfConfig":"30"},{"size":1773,"mtime":1672450758255,"results":"31","hashOfConfig":"30"},{"size":191,"mtime":1671133216596,"results":"32","hashOfConfig":"30"},{"size":277,"mtime":1671131802469,"results":"33","hashOfConfig":"30"},{"size":3358,"mtime":1672341196130,"results":"34","hashOfConfig":"30"},{"size":2341,"mtime":1672351285463,"results":"35","hashOfConfig":"30"},{"size":4190,"mtime":1672514341215,"results":"36","hashOfConfig":"30"},{"size":335,"mtime":1671360010513,"results":"37","hashOfConfig":"30"},{"size":2712,"mtime":1672530737154,"results":"38","hashOfConfig":"30"},{"size":1887,"mtime":1672334240992,"results":"39","hashOfConfig":"30"},{"size":2650,"mtime":1672334280182,"results":"40","hashOfConfig":"30"},{"size":1396,"mtime":1671131803031,"results":"41","hashOfConfig":"30"},{"size":525,"mtime":1671131805640,"results":"42","hashOfConfig":"30"},{"size":1495,"mtime":1671134022305,"results":"43","hashOfConfig":"30"},{"size":428,"mtime":1671131803375,"results":"44","hashOfConfig":"30"},{"size":1349,"mtime":1671131803546,"results":"45","hashOfConfig":"30"},{"size":4426,"mtime":1671827637248,"results":"46","hashOfConfig":"30"},{"size":2753,"mtime":1671133783186,"results":"47","hashOfConfig":"30"},{"size":814,"mtime":1671408997450,"results":"48","hashOfConfig":"30"},{"size":492,"mtime":1671133952909,"results":"49","hashOfConfig":"30"},{"size":981,"mtime":1671131802391,"results":"50","hashOfConfig":"30"},{"size":2934,"mtime":1672513142444,"results":"51","hashOfConfig":"30"},{"size":1157,"mtime":1672334089829,"results":"52","hashOfConfig":"30"},{"size":448,"mtime":1671131803203,"results":"53","hashOfConfig":"30"},{"size":1420,"mtime":1672495570882,"results":"54","hashOfConfig":"30"},{"size":166,"mtime":1671131802547,"results":"55","hashOfConfig":"30"},{"size":1391,"mtime":1672514134946,"results":"56","hashOfConfig":"30"},{"size":3470,"mtime":1671533446022,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"u0yid9",{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"69","usedDeprecatedRules":"60"},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"60"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75"},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86","usedDeprecatedRules":"60"},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"60"},{"filePath":"92","messages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"94","messages":"95","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"96","messages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"60"},{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"60"},{"filePath":"102","messages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"104","messages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"106","messages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"108","messages":"109","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"60"},{"filePath":"111","messages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"113","messages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"115","messages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"117","messages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"119","messages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"121","messages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"60"},"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\index.js",[],["124","125"],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\App.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\reducers\\index.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Upload.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Home\\Home.js",["126","127","128"],"import React, { useState} from 'react';\nimport Container from '@mui/material/Container';\nimport Grow from '@mui/material/Grow';\nimport Grid from '@mui/material/Grid';\nimport AppBar from '@mui/material/AppBar';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Paper from '@mui/material/Paper';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate, useLocation } from 'react-router-dom';\n/* import { MuiChipsInput } from 'mui-chips-input'; */\nimport { getPostsBySearch } from '../../actions/posts';\nimport Posts from '../Posts/Posts';\nimport Pagination from '../Pagination';\nimport useStyles from './styles';\n\nfunction useQuery() {\n  return new URLSearchParams(useLocation().search);\n}\n\nconst Home = () => {\n  const { classes } = useStyles();\n  const query = useQuery();\n  const page = query.get('page') || 1;\n  const searchQuery = query.get('searchQuery');\n\n \n\n  const [currentId, setCurrentId] = useState(0);\n  const dispatch = useDispatch();\n\n  const [search, setSearch] = useState('');\n  const [tags, setTags] = useState([]);\n  const navigate = useNavigate();\n\n  const searchPost = () => {\n    if (search.trim() || tags) {\n      dispatch(getPostsBySearch({ search, tags: tags.join(',') }));\n      navigate(`/posts/search?searchQuery=${search || 'none'}&tags=${tags.join(',')}`);\n    } else {\n      navigate('/');\n    }\n  };\n/* \n  useEffect(() => {\n      dispatch(getPostsBySearch(search));\n  },[search]);  */\n\n const handleKeyPress = (e) => {\n    if (e.keyCode === 13) {\n      searchPost();\n    }\n  };  \n\n  const handleAddChip = (tag) => setTags([...tags, tag]);\n\n  const handleDeleteChip = (chipToDelete) => setTags(tags.filter((tag) => tag !== chipToDelete));\n\n  const upload = () => {\n    navigate(\"/uploading\")\n  }\n\n  return (\n    <Grow in>\n      <Container maxWidth=\"xl\">\n        <Grid container justifyContent=\"space-between\" alignItems=\"stretch\" spacing={3} className={classes.gridContainer}>\n          <Grid item xs={12} sm={6} md={9}>\n            <Posts setCurrentId={setCurrentId} />\n          </Grid>\n          <Grid item xs={12} sm={6} md={3}>\n            <AppBar className={classes.appBarSearch} position=\"static\" color=\"inherit\">\n             \n              <TextField \n              onKeyDown={handleKeyPress} \n              name=\"search\" \n              variant=\"outlined\" \n              label=\"Search product\" \n              fullWidth \n              value={search} \n              onChange={(e) => setSearch(e.target.value)} />\n              \n           {/*    <MuiChipsInput\n                style={{ margin: '10px 0' }}\n                value={tags}\n                onAddChip={handleAddChip}\n                onDeleteChip={handleDeleteChip}\n                label=\"Search by tag\"\n                variant=\"outlined\"\n              />  */}\n\n              <Button onClick={searchPost} className={classes.searchButton} variant=\"contained\" color=\"primary\">Search</Button>\n               </AppBar>\n               <button onClick={upload} >Upload product image</button>\n           \n            {(\n              !searchQuery && !tags.length) && (\n              <Paper className={classes.pagination} elevation={6}>\n                <Pagination page={page} />\n              </Paper>\n            )}\n\n\n          </Grid>\n        </Grid>\n      </Container>\n    </Grow>\n  );\n};\n\nexport default Home;","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Navbar\\Navbar.js",["129"],"import React, { useState, useEffect } from 'react';\nimport AppBar  from '@mui/material/AppBar';\nimport Typography from '@mui/material/Typography';\nimport Toolbar  from '@mui/material/Toolbar';\nimport Avatar from '@mui/material/Avatar';\nimport Button  from '@mui/material/Button';\nimport { Link, useNavigate, useLocation } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport decode from 'jwt-decode';\n\nimport * as actionType from '../../constants/actionTypes';\nimport useStyles from './styles';\n\nconst Navbar = () => {\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { classes }  = useStyles();\n\n  const logout = () => {\n    dispatch({ type: actionType.LOGOUT });\n\n    navigate('/login');\n\n    setUser(null);\n  };\n\n  useEffect(() => {\n    const token = user?.token;\n\n    if (token) {\n      const decodedToken = decode(token);\n\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\n    }\n\n    setUser(JSON.parse(localStorage.getItem('profile')));\n  }, [location]);\n\n  const token = user?.token;\n\nif (token) {\n  const decodedToken = decode(token);\n  const tokenDuration = decodedToken.exp * 1000 - new Date().getTime();\n  if (tokenDuration > 0) {\n    console.log(`Token duration: ${tokenDuration} milliseconds`);\n  } else {\n    console.log('Token has expired');\n  }\n}\n\n  return (\n    <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\n      <Link to=\"/\" className={classes.brandContainer}>\n      <Typography variant='h2' >Seal The Deal</Typography>\n      </Link>\n     <Toolbar className={classes.toolbar}>\n        {user?.result ? (\n          <div className={classes.profile}>\n            <Avatar className={classes.purple} alt={user?.result.username} src={user?.result.imageUrl}>{user?.result.username.charAt(0)}</Avatar>\n            <Typography className={classes.userName} variant=\"h6\">{user?.result.username}</Typography>\n            <Button variant=\"contained\" className={classes.logout} color=\"secondary\" onClick={logout}>Logout</Button>\n          </div>\n        ) : (\n          <Button component={Link} to=\"/login\" variant=\"contained\" color=\"primary\">Login</Button>\n        )}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default Navbar;","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\screens\\RegisterScreen.js",["130"],"import { useState } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./RegisterScreen.css\";\n\nconst RegisterScreen = () => {\n  const [lastname, setLastname] = useState(\"\");\n  const [firstname, setFirstname] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmpassword, setConfirmPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const navigate = useNavigate();\n\n  const registerHandler = async (e) => {\n    e.preventDefault();\n\n     const url =  'https://ombesa.onrender.com'\n     const config = {\n      header: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n \n    if (password !== confirmpassword) {\n      setPassword(\"\");\n      setConfirmPassword(\"\");\n      setTimeout(() => {\n        setError(\"\");\n      }, 5000);\n      return setError(\"Passwords entered do not match, try gain\") }\n\n      //lastname and firstname not included\n      try {\n        const { data } = await axios.post(\n          url+ \"/api/register\",\n          { lastname,\n            firstname,\n            username,\n            email,\n            password\n          },\n           config \n        );\n\nlocalStorage.setItem('profile', JSON.stringify(data))\n//localStorage.setItem(\"authToken\", data.token);\n\n      navigate(\"/login\");\n    } catch (error) {\n      setError(error.response.data.error);\n      setTimeout(() => {\n        setError(\"\");\n      }, 5000);\n    }\n  };\n\n  return (\n    <div className=\"register-screen\">\n      <form onSubmit={registerHandler} className=\"register-screen__form\">\n        <h3 className=\"register-screen__title\">Register</h3>\n        {error && <span className=\"error-message\">{error}</span>}\n        <div className=\"form-group\">\n\n        <label htmlFor=\"name\">Last Name:</label>\n          <input\n            type=\"text\"\n            name=\"lastname\"\n            required\n            id=\"lastname\"\n            placeholder=\"Enter last name\"\n            value={lastname}\n            onChange={(e) => setLastname(e.target.value)}\n          />\n             <label htmlFor=\"name\">First Name:</label>\n          <input\n            type=\"text\"\n            name=\"firstname\"\n            required\n            id=\"firstname\"\n            placeholder=\"Enter first name\"\n            value={firstname}\n            onChange={(e) => setFirstname(e.target.value)}\n          />\n\n{/* \n          <label htmlFor=\"name\">Username:</label>\n          <input\n            type=\"text\"\n            required\n            id=\"name\"\n            placeholder=\"Enter username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n          />\n */}\n\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"email\">Email:</label>\n          <input\n            type=\"email\"\n            required\n            id=\"email\"\n            placeholder=\"Email address\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"password\">Password:</label>\n          <input\n            type=\"password\"\n            required\n            id=\"password\"\n            autoComplete=\"true\"\n            placeholder=\"Enter password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"confirmpassword\">Confirm Password:</label>\n          <input\n            type=\"password\"\n            required\n            id=\"confirmpassword\"\n            autoComplete=\"true\"\n            placeholder=\"Confirm password\"\n            value={confirmpassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n          />\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\">\n          Register\n        </button>\n\n        <span className=\"register-screen__subtext\">\n          Already have an account? <Link to=\"/login\">Login</Link>\n        </span>\n      </form>\n    </div>\n  );\n};\n\nexport default RegisterScreen;\n","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Terms\\Terms.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\screens\\LoginScreen.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\screens\\ForgotPasswordScree.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\screens\\ResetPasswordScreen.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\CreatorOrTag\\CreatorOrTag.jsx",["131"],"import React, { useEffect } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport  Typography from '@mui/material/Typography';\nimport  CircularProgress from '@mui/material/CircularProgress';\nimport  Grid  from '@mui/material/Grid';\nimport Divider  from '@mui/material/Divider';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Post from '../Posts/Post/Post';\nimport { getPostsByCreator, getPostsBySearch } from '../../actions/posts';\n\nconst CreatorOrTag = () => {\n  const { name } = useParams();\n  const dispatch = useDispatch();\n  const { posts, isLoading } = useSelector((state) => state.posts);\n\n  const location = useLocation();\n\n  useEffect(() => {\n    if (location.pathname.startsWith('/tags')) {\n      dispatch(getPostsBySearch({ tags: name }));\n    } else {\n      dispatch(getPostsByCreator(name));\n    }\n  }, []);\n\n  if (!posts.length && !isLoading) return 'No postings';\n\n  return (\n    <div>\n      <Typography variant=\"h2\">{name}</Typography>\n      <Divider style={{ margin: '20px 0 50px 0' }} />\n      {isLoading ? <CircularProgress /> : (\n        <Grid container alignItems=\"stretch\" spacing={3}>\n          {posts?.map((post) => (\n            <Grid key={post._id} item xs={12} sm={12} md={6} lg={3}>\n              <Post post={post} />\n            </Grid>\n          ))}\n        </Grid>\n      )}\n    </div>\n  );\n};\n\nexport default CreatorOrTag;","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\reducers\\auth.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\reducers\\posts.js",["132"],"import { FETCH_ALL, FETCH_BY_SEARCH, FETCH_BY_CREATOR, FETCH_POST, CREATE, UPDATE, DELETE, LIKE} from '../constants/actionTypes';\n\nexport default (state = { isLoading: true, posts: [] }, action) => {\n  switch (action.type) {\n    case 'START_LOADING':\n      return { ...state, isLoading: true };\n    case 'END_LOADING':\n      return { ...state, isLoading: false };\n    case FETCH_ALL:\n      return {\n        ...state,\n        posts: action.payload.data,\n        currentPage: action.payload.currentPage,\n        numberOfPages: action.payload.numberOfPages,\n      };\n    case FETCH_BY_SEARCH:\n    case FETCH_BY_CREATOR:\n      return { ...state, posts: action.payload.data };\n    case FETCH_POST:\n      return { ...state, post: action.payload.post };\n    case LIKE:\n      return { ...state, posts: state.posts.map((post) => (post._id === action.payload._id ? action.payload : post)) };\n   /*  case COMMENT:\n      return {\n        ...state,\n        posts: state.posts.map((post) => {\n          if (post._id === +action.payload._id) {\n            return action.payload;\n          }\n          return post;\n        }),\n      }; */\n    case CREATE:\n      return { ...state, posts: [...state.posts, action.payload] };\n    case UPDATE:\n      return { ...state, posts: state.posts.map((post) => (post._id === action.payload._id ? action.payload : post)) };\n    case DELETE:\n      return { ...state, posts: state.posts.filter((post) => post._id !== action.payload) };\n    default:\n      return state;\n  }\n};\n","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Home\\styles.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Navbar\\styles.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Form\\Form.js",["133"],"import React, { useState, useEffect } from 'react';\nimport TextField from '@mui/material/TextField';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport Paper from '@mui/material/Paper';\nimport Box from '@mui/material/Box';\nimport Checkbox from '@mui/material/Checkbox';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport { useDispatch, useSelector } from 'react-redux';\nimport FileBase from 'react-file-base64';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { createPost, updatePost } from '../../actions/posts';\nimport useStyles from './styles';\n\nconst Form = ({ currentId, setCurrentId }) => {\n  const [checked, setChecked] = React.useState(false);\n  const [postData, setPostData] = useState({ title: '', message: '', tags: '', selectedFile: '', price: '' });\n  const post = useSelector((state) => (currentId ? state.posts.posts.find((message) => message._id === currentId) : null));\n  const dispatch = useDispatch();\n  const { classes } = useStyles();\n  const user = JSON.parse(localStorage.getItem('profile'));\n  const navigate = useNavigate();\n\n  const clear = () => {\n    setCurrentId(0);\n    setPostData({ title: '', message: '',  selectedFile: '' });\n  };\n\n  useEffect(() => { \n    if (!post?.title) clear();\n    if (post) setPostData(post);\n  }, [post]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (currentId === 0) {\n      dispatch(createPost({ ...postData, name: user?.result?.username }));\n      clear();\n      navigate('/');\n    } else {\n      dispatch(updatePost(currentId, { ...postData, name: user?.result?.username }));\n      clear();\n    }\n};\n\n \n\n  if (!user?.result?.username) {\n    return (\n      <Paper className={classes.paper} elevation={6}>\n        <Typography variant=\"h6\" align=\"center\">\n          Sign in to upload\n        </Typography>\n      </Paper>\n    );\n  }\n\nconst element = <Typography variant='h8'>I agree to the <Box component={Link} to=\"/termsandconditions\">terms and conditions</Box> </Typography>\n\n const handleChange = (event) => {\n  setChecked(event.target.checked);\n};\n\nconst formChange = (e) => {\nsetPostData(prevPostData => {\n  return {\n    ...prevPostData, [e.target.name]: e.target.value\n  }\n})\n};\n\nconst disabled = !checked\n \n  return (\n    <Paper className={classes.paper} elevation={6}>\n      <form autoComplete=\"off\" noValidate className={`${classes.root} ${classes.form}`} onSubmit={handleSubmit}>\n        <Typography variant=\"h6\">{currentId ? `Editing \"${post?.title}\"` : 'Upload your product and set the price'}</Typography>\n       \n       \n        <TextField \n        name=\"title\" \n        variant=\"outlined\" \n        label=\"Name of the product\" \n        value={postData.title} \n        onChange={formChange}\n         />\n        \n      {/*   <TextField \n        name=\"message\" \n        variant=\"outlined\" \n        label=\"Message\" \n        fullWidth\n        multiline \n        minRows={4} \n        value={postData.message} \n        onChange={formChange} \n        /> */}\n      {/*   <div style={{ padding: '5px 0', width: '94%' }}>\n        \n         <TextField\n            name=\"tags\"\n            variant=\"outlined\"\n            label=\"Tags\"\n            fullWidth\n           value={postData.tags}\n           onChange={(e) => setPostData({ ...postData, tags: e.target.value.split(',') })} \n              />\n        </div> */}\n\n        <TextField \n        name=\"price\" \n        variant=\"outlined\" \n        label=\"Price\" \n        id=\"price\"\n        value={postData.price} \n        onChange={formChange}\n         />\n       <div className={classes.fileInput}>\n          <FileBase type=\"file\" \n          multiple={false} \n          onDone={({ base64 }) => setPostData({ ...postData, selectedFile: base64 })} />\n          </div>\n\n           <FormControlLabel\n            value=\"end\"\n            control={ <Checkbox\n            checked={checked}\n            onChange={handleChange}\n            inputProps={{ 'aria-label': 'controlled' }}\n          /> }\n          label={element}\n          labelPlacement=\"end\"\n        /> \n <Typography variant='h8'> </Typography>\n        <Button className={classes.buttonSubmit} variant=\"contained\" disabled={disabled} color=\"primary\" size=\"large\" type=\"submit\" >Upload</Button>\n      </form>\n  </Paper>\n\n\n  );\n};\n\nexport default Form;\n//  <Button variant=\"contained\" color=\"secondary\" size=\"small\" onClick={clear} fullWidth>Clear</Button>","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\actions\\posts.js",["134"],"import { START_LOADING, END_LOADING, FETCH_ALL, FETCH_POST, FETCH_BY_SEARCH, CREATE, UPDATE, DELETE, LIKE, RATE, FETCH_BY_CREATOR } from '../constants/actionTypes';\nimport * as api from '../api/index.js';\n\nexport const getPost = (id) => async (dispatch) => {\n  try {\n    dispatch({ type: START_LOADING });\n\n    const { data } = await api.fetchPost(id);\n\n    dispatch({ type: FETCH_POST, payload: { post: data } });\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n\nexport const getPosts = (page) => async (dispatch) => {\n  try {\n    dispatch({ type: START_LOADING });\n    const { data: { data, currentPage, numberOfPages } } = await api.fetchPosts(page);\n\n    dispatch({ type: FETCH_ALL, payload: { data, currentPage, numberOfPages } });\n    dispatch({ type: END_LOADING });\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getPostsByCreator = (name) => async (dispatch) => {\n  try {\n    dispatch({ type: START_LOADING });\n    const { data: { data } } = await api.fetchPostsByCreator(name);\n\n    dispatch({ type: FETCH_BY_CREATOR, payload: { data } });\n    dispatch({ type: END_LOADING });\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const getPostsBySearch = (searchQuery) => async (dispatch) => {\n  try {\n    dispatch({ type: START_LOADING });\n    const { data: { data } } = await api.fetchPostsBySearch(searchQuery);\n\n    dispatch({ type: FETCH_BY_SEARCH, payload: { data } });\n    dispatch({ type: END_LOADING });\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const createPost = (post, navigate) => async (dispatch) => {\n  try {\n    dispatch({ type: START_LOADING });\n    const { data } = await api.createPost(post);\n\n    dispatch({ type: CREATE, payload: data });\n\n    navigate(`/posts/${data._id}`);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const updatePost = (id, post) => async (dispatch) => {\n  try {\n    const { data } = await api.updatePost(id, post);\n\n    dispatch({ type: UPDATE, payload: data });\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const likePost = (id) => async (dispatch) => {\n  const user = JSON.parse(localStorage.getItem('profile'));\n\n  try {\n    const { data } = await api.likePost(id, user?.token);\n\n    dispatch({ type: LIKE, payload: data });\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n/* export const commentPost = (value, id) => async (dispatch) => {\n  try {\n    const { data } = await api.comment(value, id);\n\n    dispatch({ type: COMMENT, payload: data });\n\n    return data.comments;\n  } catch (error) {\n    console.log(error);\n  }\n}; */\n\nexport const deletePost = (id) => async (dispatch) => {\n  try {\n    await api.deletePost(id);\n\n    dispatch({ type: DELETE, payload: id });\n  } catch (error) {\n    console.log(error);\n  }\n};","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Posts\\Posts.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\constants\\actionTypes.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Pagination.jsx",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Posts\\Post\\Post.js",["135"],"import React, { useState } from 'react';\nimport Card from \"@mui/material/Card\";\nimport CardActions from \"@mui/material/CardActions\";\n/* import CardContent from \"@mui/material/CardContent\"; */\nimport CardMedia from \"@mui/material/CardMedia\";\nimport Button from \"@mui/material/Button\";\nimport Typography from \"@mui/material/Typography\";\nimport ButtonBase from \"@mui/material/ButtonBase\";\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport { useDispatch } from 'react-redux';\nimport { useNavigate } from 'react-router-dom';\nimport { deletePost } from '../../../actions/posts';\nimport  Modal from '@mui/material/Modal';\nimport useStyles from './styles';\nimport PaystackIntegration from '../../Payment/PaystackIntegration';\n\n/* import moment from 'moment'; */\n\n\nconst Post = ({ post, setCurrentId }) => {\nconst user = JSON.parse(localStorage.getItem('profile'));\n  const dispatch = useDispatch();\n  const { classes } = useStyles();\n  const [modal, setModal] = useState(false);\n  \n  \n  const toggleModal = () => {\n    setModal(!modal);\n  };\n\n  if(modal) {\n    document.body.classList.add('active-modal')\n  } else {\n    document.body.classList.remove('active-modal')\n  }\n  \n  return (\n    <Card className={classes.card} raised elevation={6}>\n      <ButtonBase\n        component=\"span\"\n        name=\"test\"\n        className={classes.cardAction}\n      >\n        <CardMedia \n        className={classes.media} \n        image={post.selectedFile || 'https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png'}\n        title={post.title} \n        /> \n  {(user?.result?.googleId === post?.creator || user?.result?._id === post?.creator) && (\n        <div className={classes.overlay2} name=\"edit\">\n       </div>\n        )}\n        <div className={classes.details}>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"h2\">{post.tags.map((tag) => `#${tag} `)}</Typography>\n        </div>\n        <Typography className={classes.title} gutterBottom variant=\"h5\" component=\"h2\">{post.title}</Typography>\n  </ButtonBase>\n    <Typography>R{post.price}</Typography>\n       <CardActions className={classes.cardActions}>\n\n\n<button id=\"checkout-button\" onClick={toggleModal} >Buy</button> \n\n \n\n{modal && (\n   <Modal open={modal} onClose={toggleModal} className={classes.modal}>\n        <div className={classes.paper}>\n     {/*      <div onClick={toggleModal} className={classes.overlay3}></div> */}\n         <h4>Please enter your details</h4>\n            <PaystackIntegration post={post} />\n            <Button className={classes.closeButton} onClick={toggleModal}>CLOSE</Button>\n          </div>\n        </Modal>\n      )} \n\n\n {\n (user?.result?._id === post?.creator) && (\n    <Button size=\"small\" color=\"secondary\" onClick={() => dispatch(deletePost(post._id))}>\n      <DeleteIcon fontSize=\"small\" /> &nbsp; Remove\n    </Button>\n  )\n  }\n  </CardActions>\n </Card>\n  );\n}\n\nexport default Post;","C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\api\\index.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Form\\styles.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Posts\\styles.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\styles.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Posts\\Post\\styles.js",[],"C:\\Users\\Student\\Downloads\\up_pro-main\\client\\src\\components\\Payment\\PaystackIntegration.js",["136"],"import React, {useState} from 'react';\nimport PaystackPop from '@paystack/inline-js';\nimport {  useNavigate } from 'react-router-dom';\n\nconst PaystackIntegration = ({ post }) => {\n  \n       const [firstname, setFirstname ] = useState(\"\");\n       const [lastname, setLastname ] = useState(\"\");\n       const [email, setEmail ] = useState(\"\");\n       const [address, setAddress ] = useState(\"\");\n       const [amount] = useState(post.price * 100);\n       const [product] = useState(post.title);\n       const navigate = useNavigate();\n\n       const pay = (e) => {\n         e.preventDefault();\n         const paystack = new PaystackPop()\n         paystack.newTransaction({\n            key:\"pk_test_6bcfa7fac8e0dcf2a352b04ca4c7d1116bc27f3c\",\n            amount: amount,\n            firstname: firstname,\n            lastname: lastname,\n            email: email, \n            metadata:{\n              \"custom_fields\":[\n                {\n                  \"display_name\":\"Delivery address\",\n                  \"variable_name\":\"Delivery address\",\n                  \"value\":address\n              \n                },\n                {\n                  \"display_name\":\"Name of the product\",\n                  \"variable_name\":\"Name of the product\",\n                  \"value\":product\n              \n                },\n                {\n                  \"display_name\":\"Buyer name\",\n                  \"variable_name\":\"Buyer name\",\n                  \"value\":firstname\n              \n                },\n                {\n                  \"display_name\":\"Buyer name\",\n                  \"variable_name\":\"Buyer name\",\n                  \"value\":lastname\n              \n                },\n                {\n                  \"display_name\":\"Buyer email\",\n                  \"variable_name\":\"Buyer email\",\n                  \"value\":email\n              \n                },\n              \n              ]\n            },\n             onSuccess(transaction) {\n                let message = `Payment Complete! Reference ${transaction.reference}`\n                alert (message)\n                setFirstname(\"\");\n                setLastname(\"\");\n                setEmail(\"\");\n  \n            },\n            onCancel() {\n                alert(\"You have cancelled the transaction\")\n            }\n         })\n       };\n\n  return (\n    <div>\n        <form onSubmit={pay} >\n            <div>\n            <label htmlFor='first-name' >First Name</label>\n            <input type='text' placeholder=\"Enter your first name\" value={firstname} onChange={(e) => setFirstname(e.target.value)} name='firstname' required />\n            </div>\n            <div>\n            <label htmlFor='last-name' >Last Name</label>\n            <input type='text' placeholder='Enter your last name' value={lastname} onChange={(e) => setLastname(e.target.value)} name='lastname' required />\n            </div>\n            <div>\n            <label htmlFor='email' >Email address</label>\n            <input type='email' placeholder='Enter your email address' value={email} onChange={(e) => setEmail(e.target.value)} name='email' required />\n            </div>\n            <div>\n            <label htmlFor='email' >Delivery Address</label>\n            <input type='text' placeholder='Enter your delivery address' value={address} onChange={(e) => setAddress(e.target.value)} name='email' required />\n            </div>\n           <button type=\"submit\">Pay</button>\n        </form>\n    </div>\n  )\n}\n\nexport default PaystackIntegration;",{"ruleId":"137","replacedBy":"138"},{"ruleId":"139","replacedBy":"140"},{"ruleId":"141","severity":1,"message":"142","line":29,"column":10,"nodeType":"143","messageId":"144","endLine":29,"endColumn":19},{"ruleId":"141","severity":1,"message":"145","line":55,"column":9,"nodeType":"143","messageId":"144","endLine":55,"endColumn":22},{"ruleId":"141","severity":1,"message":"146","line":57,"column":9,"nodeType":"143","messageId":"144","endLine":57,"endColumn":25},{"ruleId":"147","severity":1,"message":"148","line":39,"column":6,"nodeType":"149","endLine":39,"endColumn":16,"suggestions":"150"},{"ruleId":"141","severity":1,"message":"151","line":10,"column":20,"nodeType":"143","messageId":"144","endLine":10,"endColumn":31},{"ruleId":"147","severity":1,"message":"152","line":25,"column":6,"nodeType":"149","endLine":25,"endColumn":8,"suggestions":"153"},{"ruleId":"154","severity":1,"message":"155","line":3,"column":1,"nodeType":"156","endLine":42,"endColumn":3},{"ruleId":"147","severity":1,"message":"157","line":32,"column":6,"nodeType":"149","endLine":32,"endColumn":12,"suggestions":"158"},{"ruleId":"141","severity":1,"message":"159","line":1,"column":108,"nodeType":"143","messageId":"144","endLine":1,"endColumn":112},{"ruleId":"141","severity":1,"message":"160","line":11,"column":10,"nodeType":"143","messageId":"144","endLine":11,"endColumn":21},{"ruleId":"141","severity":1,"message":"161","line":13,"column":14,"nodeType":"143","messageId":"144","endLine":13,"endColumn":22},"no-native-reassign",["162"],"no-negated-in-lhs",["163"],"no-unused-vars","'currentId' is assigned a value but never used.","Identifier","unusedVar","'handleAddChip' is assigned a value but never used.","'handleDeleteChip' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'logout' and 'user?.token'. Either include them or remove the dependency array.","ArrayExpression",["164"],"'setUsername' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'dispatch', 'location.pathname', and 'name'. Either include them or remove the dependency array.",["165"],"import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","React Hook useEffect has a missing dependency: 'clear'. Either include it or remove the dependency array.",["166"],"'RATE' is defined but never used.","'useNavigate' is defined but never used.","'navigate' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"167","fix":"168"},{"desc":"169","fix":"170"},{"desc":"171","fix":"172"},"Update the dependencies array to be: [location, logout, user?.token]",{"range":"173","text":"174"},"Update the dependencies array to be: [dispatch, location.pathname, name]",{"range":"175","text":"176"},"Update the dependencies array to be: [clear, post]",{"range":"177","text":"178"},[1130,1140],"[location, logout, user?.token]",[859,861],"[dispatch, location.pathname, name]",[1339,1345],"[clear, post]"]