(this["webpackJsonpmern-stack-client"]=this["webpackJsonpmern-stack-client"]||[]).push([[0],{201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(124),c=a.n(s),o=a(26),i=a(30),l=a(134),u=a(75),d=a(12),j=a(18),p="CREATE",b="UPDATE",m="DELETE",O="FETCH_ALL",x="FETCH_BY_SEARCH",h="FETCH_POST",f="LIKE",g="END_LOADING",v="START_LOADING",y="FETCH_BY_CREATOR",w="AUTH",N="LOGOUT",C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{authData:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return localStorage.setItem("profile",JSON.stringify(Object(j.a)({},null===t||void 0===t?void 0:t.data))),Object(j.a)(Object(j.a)({},e),{},{authData:t.data,loading:!1,errors:null});case N:return localStorage.clear(),Object(j.a)(Object(j.a)({},e),{},{authData:null,loading:!1,errors:null});default:return e}},S=Object(i.b)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,posts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0});case"END_LOADING":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!1});case O:return Object(j.a)(Object(j.a)({},e),{},{posts:t.payload.data,currentPage:t.payload.currentPage,numberOfPages:t.payload.numberOfPages});case x:case y:return Object(j.a)(Object(j.a)({},e),{},{posts:t.payload.data});case h:return Object(j.a)(Object(j.a)({},e),{},{post:t.payload.post});case f:return Object(j.a)(Object(j.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload._id?t.payload:e}))});case p:return Object(j.a)(Object(j.a)({},e),{},{posts:[].concat(Object(d.a)(e.posts),[t.payload])});case b:return Object(j.a)(Object(j.a)({},e),{},{posts:e.posts.map((function(e){return e._id===t.payload._id?t.payload:e}))});case m:return Object(j.a)(Object(j.a)({},e),{},{posts:e.posts.filter((function(e){return e._id!==t.payload}))});default:return e}},auth:C}),k=a(272),_=a(22),I=a(13),E=a(6),T=a(277),D=a(279),F=a(280),L=a(273),P=a(274),A=a(126),R=a(3),B=a(261),q=a(37),J=Object(q.makeStyles)()((function(e){return{appBar:Object(R.a)({borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"10px 50px"},e.breakpoints.down("sm"),{flexDirection:"column"}),heading:{color:e.palette.primary.main,textDecoration:"none",fontSize:"2em",fontWeight:300},image:{marginLeft:"10px",marginTop:"5px"},toolbar:Object(R.a)({display:"flex",justifyContent:"flex-end",width:"400px"},e.breakpoints.down("sm"),{width:"auto"}),profile:Object(R.a)({display:"flex",justifyContent:"space-between",width:"400px",alignItems:"center"},e.breakpoints.down("sm"),{width:"auto",marginTop:20,justifyContent:"center"}),logout:{marginLeft:"20px"},userName:{display:"flex",alignItems:"center",textAlign:"center"},brandContainer:{display:"flex",alignItems:"center"},purple:{color:e.palette.getContrastText(B.a[500]),backgroundColor:B.a[500]}}})),U=a(1),W=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("profile"))),t=Object(E.a)(e,2),a=t[0],r=t[1],s=Object(o.b)(),c=Object(I.k)(),i=Object(I.m)(),l=J().classes,u=function(){s({type:N}),i("/login"),r(null)};return Object(n.useEffect)((function(){var e=null===a||void 0===a?void 0:a.token;e&&(1e3*Object(A.a)(e).exp<(new Date).getTime()&&u());r(JSON.parse(localStorage.getItem("profile")))}),[c]),Object(U.jsxs)(T.a,{className:l.appBar,position:"static",color:"inherit",children:[Object(U.jsx)(_.b,{to:"/",className:l.brandContainer,children:Object(U.jsx)(D.a,{variant:"h2",children:"Seal The Deal"})}),Object(U.jsx)(F.a,{className:l.toolbar,children:null!==a&&void 0!==a&&a.result?Object(U.jsxs)("div",{className:l.profile,children:[Object(U.jsx)(L.a,{className:l.purple,alt:null===a||void 0===a?void 0:a.result.username,src:null===a||void 0===a?void 0:a.result.imageUrl,children:null===a||void 0===a?void 0:a.result.username.charAt(0)}),Object(U.jsx)(D.a,{className:l.userName,variant:"h6",children:null===a||void 0===a?void 0:a.result.username}),Object(U.jsx)(P.a,{variant:"contained",className:l.logout,color:"secondary",onClick:u,children:"Logout"})]}):Object(U.jsx)(P.a,{component:_.b,to:"/login",variant:"contained",color:"primary",children:"Login"})})]})},H=a(267),z=a(275),G=a(268),M=a(278),Y=a(11),Q=a(19),K=a(40),V=a.n(K),X=V.a.create({baseURL:"https://loso.adaptable.app"});X.interceptors.request.use((function(e){return localStorage.getItem("profile")&&(e.headers.Authorization="Bearer ".concat(JSON.parse(localStorage.getItem("profile")).token)),e}));var Z=function(e){return X.get("/posts?page=".concat(e))},$=function(e){return X.get("/posts/creator?name=".concat(e))},ee=function(e){return X.get("/posts/search?searchQuery=".concat(e.search||"none","&tags=").concat(e.tags))},te=function(e,t){return X.patch("/posts/".concat(e),t)},ae=function(e){return X.delete("/posts/".concat(e))},ne=function(e){return function(){var t=Object(Q.a)(Object(Y.a)().mark((function t(a){var n,r;return Object(Y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:v}),t.next=4,ee(e);case 4:n=t.sent,r=n.data.data,a({type:x,payload:{data:r}}),a({type:g}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},re=function(e,t){return function(){var a=Object(Q.a)(Object(Y.a)().mark((function a(n){var r,s;return Object(Y.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:v}),a.next=4,c=e,X.post("/posts",c);case 4:r=a.sent,s=r.data,n({type:p,payload:s}),t("/posts/".concat(s._id)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}var c}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},se=function(e,t){return function(){var a=Object(Q.a)(Object(Y.a)().mark((function a(n){var r,s;return Object(Y.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,te(e,t);case 3:r=a.sent,s=r.data,n({type:b,payload:s}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},ce=a(281),oe=a(283),ie=a(285),le=a(284),ue=a(269),de=a(132),je=a.n(de),pe=Object(q.makeStyles)()({media:{height:100,paddingTop:"50%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},border:{border:"solid"},fullHeightCard:{height:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"space-between",borderRadius:"15px",height:"100%",position:"relative"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},overlay2:{position:"absolute",top:"20px",right:"20px",color:"white"},grid:{display:"flex"},details:{display:"flex",justifyContent:"space-between",margin:"20px"},title:{padding:"0 16px"},cardActions:{padding:"0 16px 8px 16px",display:"flex",justifyContent:"space-between"},cardAction:{display:"block",textAlign:"initial"},overlay3:{background:" rgba(49,49,49,0.8)"},modalcontent:{position:"absolute",top:"40%",left:"50%",transform:"translate(-50%, -50%)",lineHeight:"1.4",background:"#f1f1f1",padding:"14px 28px",borderRadius:"3px",maxWidth:"600px",minWidth:"300px"},closemodal:{position:"relative",top:"5px",right:"10px",padding:"5px"},body2:{"&.active-modal":{overflowY:"hidden"}}}),be=a(131),me=function(e){var t=e.post,a=Object(n.useState)(""),r=Object(E.a)(a,2),s=r[0],c=r[1],o=Object(n.useState)(""),i=Object(E.a)(o,2),l=i[0],u=i[1],d=Object(n.useState)(""),j=Object(E.a)(d,2),p=j[0],b=j[1],m=Object(n.useState)(""),O=Object(E.a)(m,2),x=O[0],h=O[1],f=Object(n.useState)(100*t.price),g=Object(E.a)(f,1)[0],v=Object(n.useState)(t.title),y=Object(E.a)(v,1)[0];Object(I.m)();return Object(U.jsx)("div",{children:Object(U.jsxs)("form",{onSubmit:function(e){e.preventDefault(),(new be.a).newTransaction({key:"pk_test_6bcfa7fac8e0dcf2a352b04ca4c7d1116bc27f3c",amount:g,firstname:s,lastname:l,email:p,metadata:{custom_fields:[{display_name:"Delivery address",variable_name:"Delivery address",value:x},{display_name:"Name of the product",variable_name:"Name of the product",value:y},{display_name:"Buyer name",variable_name:"Buyer name",value:s},{display_name:"Buyer name",variable_name:"Buyer name",value:l},{display_name:"Buyer email",variable_name:"Buyer email",value:p}]},onSuccess:function(e){var t="Payment Complete! Reference ".concat(e.reference);alert(t),c(""),u(""),b("")},onCancel:function(){alert("You have cancelled the transaction")}})},children:[Object(U.jsxs)("div",{children:[Object(U.jsx)("label",{htmlFor:"first-name",children:"First Name"}),Object(U.jsx)("input",{type:"text",placeholder:"Enter your first name",value:s,onChange:function(e){return c(e.target.value)},name:"firstname",required:!0})]}),Object(U.jsxs)("div",{children:[Object(U.jsx)("label",{htmlFor:"last-name",children:"Last Name"}),Object(U.jsx)("input",{type:"text",placeholder:"Enter your last name",value:l,onChange:function(e){return u(e.target.value)},name:"lastname",required:!0})]}),Object(U.jsxs)("div",{children:[Object(U.jsx)("label",{htmlFor:"email",children:"Email address"}),Object(U.jsx)("input",{type:"email",placeholder:"Enter your email address",value:p,onChange:function(e){return b(e.target.value)},name:"email",required:!0})]}),Object(U.jsxs)("div",{children:[Object(U.jsx)("label",{htmlFor:"email",children:"Delivery Address"}),Object(U.jsx)("input",{type:"text",placeholder:"Enter your delivery address",value:x,onChange:function(e){return h(e.target.value)},name:"email",required:!0})]}),Object(U.jsx)("button",{type:"submit",children:"Pay"})]})})},Oe=function(e){var t,a,r,s=e.post,c=(e.setCurrentId,JSON.parse(localStorage.getItem("profile"))),i=Object(o.b)(),l=pe().classes,u=Object(n.useState)(!1),d=Object(E.a)(u,2),j=d[0],p=d[1],b=function(){p(!j)};return j?document.body.classList.add("active-modal"):document.body.classList.remove("active-modal"),Object(U.jsxs)(oe.a,{className:l.card,raised:!0,elevation:6,children:[Object(U.jsxs)(ue.a,{component:"span",name:"test",className:l.cardAction,children:[Object(U.jsx)(le.a,{className:l.media,image:s.selectedFile||"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png",title:s.title}),((null===c||void 0===c||null===(t=c.result)||void 0===t?void 0:t.googleId)===(null===s||void 0===s?void 0:s.creator)||(null===c||void 0===c||null===(a=c.result)||void 0===a?void 0:a._id)===(null===s||void 0===s?void 0:s.creator))&&Object(U.jsx)("div",{className:l.overlay2,name:"edit"}),Object(U.jsx)("div",{className:l.details,children:Object(U.jsx)(D.a,{variant:"body2",color:"textSecondary",component:"h2",children:s.tags.map((function(e){return"#".concat(e," ")}))})}),Object(U.jsx)(D.a,{className:l.title,gutterBottom:!0,variant:"h5",component:"h2",children:s.title})]}),Object(U.jsxs)(D.a,{children:["R",s.price]}),Object(U.jsxs)(ie.a,{className:l.cardActions,children:[Object(U.jsx)("button",{id:"checkout-button",onClick:b,children:"Buy"}),Object(U.jsx)("div",{className:l.body2,children:j&&Object(U.jsxs)("div",{className:l.modal,children:[Object(U.jsx)("div",{onClick:b,className:l.overlay3}),Object(U.jsxs)("div",{className:l.modelcontent,children:[Object(U.jsx)("h4",{children:"Please enter your details"}),Object(U.jsx)(U.Fragment,{children:Object(U.jsx)(me,{post:s})}),Object(U.jsx)("button",{className:l.closemodal,onClick:b,children:"CLOSE"})]})]})}),(null===c||void 0===c||null===(r=c.result)||void 0===r?void 0:r._id)===(null===s||void 0===s?void 0:s.creator)&&Object(U.jsxs)(P.a,{size:"small",color:"secondary",onClick:function(){return i((e=s._id,function(){var t=Object(Q.a)(Object(Y.a)().mark((function t(a){return Object(Y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ae(e);case 3:a({type:m,payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()));var e},children:[Object(U.jsx)(je.a,{fontSize:"small"})," \xa0 Remove"]})]})]})},xe=Object(q.makeStyles)()((function(e){var t;return t={mainContainer:{borderRadius:15,margin:"30px 0",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"10px 50px"},heading:{color:"rgba(0,183,255, 1)",textDecoration:"none"},image:{marginLeft:"15px"},toolbar:{display:"flex",justifyContent:"flex-end",width:"400px"},profile:{display:"flex",justifyContent:"space-between",width:"400px"},userName:{display:"flex",alignItems:"center"},brandContainer:{display:"flex",alignItems:"center"},smMargin:{margin:e.spacing(1)},purple:{color:e.palette.getContrastText(B.a[500]),backgroundColor:B.a[500]}},Object(R.a)(t,e.breakpoints.down("sm"),{appBar:{padding:"10px 20px"},heading:{display:"none"},userName:{display:"none"},image:{marginLeft:"5px"},toolbar:{display:"flex",justifyContent:"flex-end",width:"160px"}}),Object(R.a)(t,"actionDiv",{textAlign:"center"}),t})),he=function(e){var t=e.setCurrentId,a=Object(o.c)((function(e){return e.posts})),n=a.posts,r=a.isLoading,s=xe().classes;return n.length||r?r?Object(U.jsx)(ce.a,{}):Object(U.jsx)(z.a,{className:s.container,container:!0,alignItems:"stretch",spacing:3,children:null===n||void 0===n?void 0:n.map((function(e){return Object(U.jsx)(z.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(U.jsx)(Oe,{post:e,setCurrentId:t})},e._id)}))}):"No posts"},fe=a(276),ge=a(271),ve=Object(q.makeStyles)()((function(){return{ul:{justifyContent:"space-around"}}})),ye=function(e){var t=e.page,a=Object(o.c)((function(e){return e.posts})).numberOfPages,r=Object(o.b)(),s=ve().classes;return Object(n.useEffect)((function(){t&&r(function(e){return function(){var t=Object(Q.a)(Object(Y.a)().mark((function t(a){var n,r,s,c,o;return Object(Y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:v}),t.next=4,Z(e);case 4:n=t.sent,r=n.data,s=r.data,c=r.currentPage,o=r.numberOfPages,a({type:O,payload:{data:s,currentPage:c,numberOfPages:o}}),a({type:g}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}(t))}),[r,t]),Object(U.jsx)(fe.a,{classes:{ul:s.ul},count:a,page:Number(t)||1,variant:"outlined",color:"primary",renderItem:function(e){return Object(U.jsx)(ge.a,Object(j.a)(Object(j.a)({},e),{},{component:_.b,to:"/posts?page=".concat(e.page)}))}})},we=Object(q.makeStyles)()((function(e){return{appBarSearch:{borderRadius:4,marginBottom:"1rem",display:"flex",padding:"16px"},pagination:{borderRadius:4,marginTop:"1rem",padding:"16px"},gridContainer:Object(R.a)({},e.breakpoints.down("xs"),{flexDirection:"column-reverse"})}}));var Ne=function(){var e=we().classes,t=new URLSearchParams(Object(I.k)().search),a=t.get("page")||1,r=t.get("searchQuery"),s=Object(n.useState)(0),c=Object(E.a)(s,2),i=(c[0],c[1]),l=Object(o.b)(),u=Object(n.useState)(""),d=Object(E.a)(u,2),j=d[0],p=d[1],b=Object(n.useState)([]),m=Object(E.a)(b,2),O=m[0],x=(m[1],Object(I.m)()),h=function(){j.trim()||O?(l(ne({search:j,tags:O.join(",")})),x("/posts/search?searchQuery=".concat(j||"none","&tags=").concat(O.join(",")))):x("/")};return Object(U.jsx)(H.a,{in:!0,children:Object(U.jsx)(k.a,{maxWidth:"xl",children:Object(U.jsxs)(z.a,{container:!0,justifyContent:"space-between",alignItems:"stretch",spacing:3,className:e.gridContainer,children:[Object(U.jsx)(z.a,{item:!0,xs:12,sm:6,md:9,children:Object(U.jsx)(he,{setCurrentId:i})}),Object(U.jsxs)(z.a,{item:!0,xs:12,sm:6,md:3,children:[Object(U.jsxs)(T.a,{className:e.appBarSearch,position:"static",color:"inherit",children:[Object(U.jsx)(G.a,{onKeyDown:function(e){13===e.keyCode&&h()},name:"search",variant:"outlined",label:"Search product",fullWidth:!0,value:j,onChange:function(e){return p(e.target.value)}}),Object(U.jsx)(P.a,{onClick:h,className:e.searchButton,variant:"contained",color:"primary",children:"Search"})]}),Object(U.jsx)("button",{onClick:function(){x("/uploading")},children:"Upload product image"}),!r&&!O.length&&Object(U.jsx)(M.a,{className:e.pagination,elevation:6,children:Object(U.jsx)(ye,{page:a})})]})]})})})},Ce=a(282),Se=function(){var e=Object(I.o)().name,t=Object(o.b)(),a=Object(o.c)((function(e){return e.posts})),r=a.posts,s=a.isLoading,c=Object(I.k)();return Object(n.useEffect)((function(){c.pathname.startsWith("/tags")?t(ne({tags:e})):t(function(e){return function(){var t=Object(Q.a)(Object(Y.a)().mark((function t(a){var n,r;return Object(Y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:v}),t.next=4,$(e);case 4:n=t.sent,r=n.data.data,a({type:y,payload:{data:r}}),a({type:g}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(e))}),[]),r.length||s?Object(U.jsxs)("div",{children:[Object(U.jsx)(D.a,{variant:"h2",children:e}),Object(U.jsx)(Ce.a,{style:{margin:"20px 0 50px 0"}}),s?Object(U.jsx)(ce.a,{}):Object(U.jsx)(z.a,{container:!0,alignItems:"stretch",spacing:3,children:null===r||void 0===r?void 0:r.map((function(e){return Object(U.jsx)(z.a,{item:!0,xs:12,sm:12,md:6,lg:3,children:Object(U.jsx)(Oe,{post:e})},e._id)}))})]}):"No postings"},ke=function(){return Object(U.jsx)(U.Fragment,{children:Object(U.jsxs)("div",{children:[Object(U.jsx)("br",{})," Seal The Deal terms and conditions ",Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),"1. Condition 1",Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),"2. Condition 2",Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),"3. Condition 3",Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),"4. Condition 4",Object(U.jsx)("br",{}),Object(U.jsx)("br",{}),"5. Condition 5",Object(U.jsx)("br",{})]})})},_e=(a(201),function(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(E.a)(s,2),o=c[0],i=c[1],l=Object(n.useState)(""),u=Object(E.a)(l,2),d=u[0],j=u[1],p=Object(I.m)();Object(n.useEffect)((function(){localStorage.getItem("profile")&&p("/")}),[p]);var b=function(){var e=Object(Q.a)(Object(Y.a)().mark((function e(t){var n,r,s;return Object(Y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={header:{"Content-Type":"application/json"}},e.prev=2,e.next=5,V.a.post("https://loso.adaptable.app/api/login",{email:a,password:o},n);case 5:r=e.sent,s=r.data,localStorage.setItem("profile",JSON.stringify(s)),p("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),j(e.t0.response.data.error),setTimeout((function(){j("")}),5e3);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsx)("div",{className:"login-screen",children:Object(U.jsxs)("form",{onSubmit:b,className:"login-screen__form",children:[Object(U.jsx)("h3",{className:"login-screen__title",children:"Login"}),d&&Object(U.jsx)("span",{className:"error-message",children:d}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(U.jsx)("input",{type:"email",required:!0,id:"email",placeholder:"Email address",onChange:function(e){return r(e.target.value)},value:a,tabIndex:1})]}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsxs)("label",{htmlFor:"password",children:["Password:"," ",Object(U.jsx)(_.b,{to:"/forgotpassword",className:"login-screen__forgotpassword",children:"Forgot Password?"})]}),Object(U.jsx)("input",{type:"password",required:!0,id:"password",autoComplete:"true",placeholder:"Enter password",onChange:function(e){return i(e.target.value)},value:o,tabIndex:2})]}),Object(U.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"}),Object(U.jsxs)("span",{className:"login-screen__subtext",children:["Don't have an account? ",Object(U.jsx)(_.b,{to:"/register",children:"Register"})]})]})})}),Ie=(a(202),function(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(E.a)(s,2),o=c[0],i=c[1],l=Object(n.useState)(""),u=Object(E.a)(l,2),d=u[0],j=u[1],p=Object(n.useState)(""),b=Object(E.a)(p,2),m=b[0],O=b[1],x=Object(n.useState)(""),h=Object(E.a)(x,2),f=h[0],g=h[1],v=Object(n.useState)(""),y=Object(E.a)(v,2),w=y[0],N=y[1],C=Object(n.useState)(""),S=Object(E.a)(C,2),k=S[0],T=S[1],D=Object(I.m)(),F=function(){var e=Object(Q.a)(Object(Y.a)().mark((function e(t){var n,r,s,c;return Object(Y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n="https://loso.adaptable.app",r={header:{"Content-Type":"application/json"}},f===w){e.next=8;break}return g(""),N(""),setTimeout((function(){T("")}),5e3),e.abrupt("return",T("Passwords entered do not match, try gain"));case 8:return e.prev=8,e.next=11,V.a.post(n+"/api/register",{lastname:a,firstname:o,username:d,email:m,password:f},r);case 11:s=e.sent,c=s.data,localStorage.setItem("profile",JSON.stringify(c)),D("/login"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(8),T(e.t0.response.data.error),setTimeout((function(){T("")}),5e3);case 21:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsx)("div",{className:"register-screen",children:Object(U.jsxs)("form",{onSubmit:F,className:"register-screen__form",children:[Object(U.jsx)("h3",{className:"register-screen__title",children:"Register"}),k&&Object(U.jsx)("span",{className:"error-message",children:k}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{htmlFor:"name",children:"Last Name:"}),Object(U.jsx)("input",{type:"text",name:"lastname",required:!0,id:"lastname",placeholder:"Enter last name",value:a,onChange:function(e){return r(e.target.value)}}),Object(U.jsx)("label",{htmlFor:"name",children:"First Name:"}),Object(U.jsx)("input",{type:"text",name:"firstname",required:!0,id:"firstname",placeholder:"Enter first name",value:o,onChange:function(e){return i(e.target.value)}}),Object(U.jsx)("label",{htmlFor:"name",children:"Username:"}),Object(U.jsx)("input",{type:"text",required:!0,id:"name",placeholder:"Enter username",value:d,onChange:function(e){return j(e.target.value)}})]}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(U.jsx)("input",{type:"email",required:!0,id:"email",placeholder:"Email address",value:m,onChange:function(e){return O(e.target.value)}})]}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(U.jsx)("input",{type:"password",required:!0,id:"password",autoComplete:"true",placeholder:"Enter password",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{htmlFor:"confirmpassword",children:"Confirm Password:"}),Object(U.jsx)("input",{type:"password",required:!0,id:"confirmpassword",autoComplete:"true",placeholder:"Confirm password",value:w,onChange:function(e){return N(e.target.value)}})]}),Object(U.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Register"}),Object(U.jsxs)("span",{className:"register-screen__subtext",children:["Already have an account? ",Object(U.jsx)(_.b,{to:"/login",children:"Login"})]})]})})}),Ee=(a(203),function(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(""),c=Object(E.a)(s,2),o=c[0],i=c[1],l=Object(n.useState)(""),u=Object(E.a)(l,2),d=u[0],j=u[1],p=function(){var e=Object(Q.a)(Object(Y.a)().mark((function e(t){var n,s,c;return Object(Y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={header:{"Content-Type":"application/json"}},e.prev=2,e.next=5,V.a.post("https://loso.adaptable.app//api/forgotpassword",{email:a},n);case 5:s=e.sent,c=s.data,j(c.data),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),i(e.t0.response.data.error),r(""),setTimeout((function(){i("")}),5e3);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsx)("div",{className:"forgotpassword-screen",children:Object(U.jsxs)("form",{onSubmit:p,className:"forgotpassword-screen__form",children:[Object(U.jsx)("h3",{className:"forgotpassword-screen__title",children:"Forgot Password"}),o&&Object(U.jsx)("span",{className:"error-message",children:o}),d&&Object(U.jsx)("span",{className:"success-message",children:d}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("p",{className:"forgotpassword-screen__subtext",children:"Please enter the email address you registered your account with. We will send you reset password confirmation to this email"}),Object(U.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(U.jsx)("input",{type:"email",required:!0,id:"email",placeholder:"Email address",value:a,onChange:function(e){return r(e.target.value)}})]}),Object(U.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})})}),Te=(a(204),function(e){e.history,e.match;var t=Object(I.o)().resetToken,a=Object(n.useState)(""),r=Object(E.a)(a,2),s=r[0],c=r[1],o=Object(n.useState)(""),i=Object(E.a)(o,2),l=i[0],u=i[1],d=Object(n.useState)(""),j=Object(E.a)(d,2),p=j[0],b=j[1],m=Object(n.useState)(""),O=Object(E.a)(m,2),x=O[0],h=O[1],f=function(){var e=Object(Q.a)(Object(Y.a)().mark((function e(a){var n,r,o,i;return Object(Y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n="https://loso.adaptable.app",r={header:{"Content-Type":"application/json"}},s===l){e.next=8;break}return c(""),u(""),setTimeout((function(){b("")}),5e3),e.abrupt("return",b("Passwords do not match"));case 8:return e.prev=8,e.next=11,V.a.put(n+"/api/passwordreset/".concat(t),{password:s},r);case 11:o=e.sent,i=o.data,console.log(i),h(i.data),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(8),b(e.t0.response.data.error),setTimeout((function(){b("")}),5e3);case 21:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsx)("div",{className:"resetpassword-screen",children:Object(U.jsxs)("form",{onSubmit:f,className:"resetpassword-screen__form",children:[Object(U.jsx)("h3",{className:"resetpassword-screen__title",children:"Forgot Password"}),p&&Object(U.jsxs)("span",{className:"error-message",children:[p," "]}),x&&Object(U.jsxs)("span",{className:"success-message",children:[x," ",Object(U.jsx)(_.b,{to:"/login",children:"Login"})]}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{htmlFor:"password",children:"New Password:"}),Object(U.jsx)("input",{type:"password",required:!0,id:"password",placeholder:"Enter new password",autoComplete:"true",value:s,onChange:function(e){return c(e.target.value)}})]}),Object(U.jsxs)("div",{className:"form-group",children:[Object(U.jsx)("label",{htmlFor:"confirmpassword",children:"Confirm New Password:"}),Object(U.jsx)("input",{type:"password",required:!0,id:"confirmpassword",placeholder:"Confirm new password",autoComplete:"true",value:l,onChange:function(e){return u(e.target.value)}})]}),Object(U.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Reset Password"})]})})}),De=a(286),Fe=a(270),Le=a(287),Pe=a(133),Ae=a.n(Pe),Re=Object(q.makeStyles)()((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1)}},paper:{padding:e.spacing(2)},form:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fileInput:{width:"97%",margin:"10px 0"},buttonSubmit:{marginBottom:10}}})),Be=function(e){var t,a=e.currentId,s=e.setCurrentId,c=r.a.useState(!1),i=Object(E.a)(c,2),l=i[0],u=i[1],d=Object(n.useState)({title:"",message:"",tags:"",selectedFile:"",price:""}),p=Object(E.a)(d,2),b=p[0],m=p[1],O=Object(o.c)((function(e){return a?e.posts.posts.find((function(e){return e._id===a})):null})),x=Object(o.b)(),h=Re().classes,f=JSON.parse(localStorage.getItem("profile")),g=Object(I.m)(),v=function(){s(0),m({title:"",message:"",selectedFile:""})};Object(n.useEffect)((function(){null!==O&&void 0!==O&&O.title||v(),O&&m(O)}),[O]);var y=function(){var e=Object(Q.a)(Object(Y.a)().mark((function e(t){var n,r;return Object(Y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),0===a?(x(re(Object(j.a)(Object(j.a)({},b),{},{name:null===f||void 0===f||null===(n=f.result)||void 0===n?void 0:n.username}))),v(),g("/posts")):(x(se(a,Object(j.a)(Object(j.a)({},b),{},{name:null===f||void 0===f||null===(r=f.result)||void 0===r?void 0:r.username}))),v());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(null===f||void 0===f||null===(t=f.result)||void 0===t||!t.username)return Object(U.jsx)(M.a,{className:h.paper,elevation:6,children:Object(U.jsx)(D.a,{variant:"h6",align:"center",children:"Sign in to upload"})});var w=Object(U.jsxs)(D.a,{variant:"h8",children:["I agree to the ",Object(U.jsx)(De.a,{component:_.b,to:"/termsandconditions",children:"terms and conditions"})," "]}),N=function(e){m((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(R.a)({},e.target.name,e.target.value))}))},C=!l;return Object(U.jsx)(M.a,{className:h.paper,elevation:6,children:Object(U.jsxs)("form",{autoComplete:"off",noValidate:!0,className:"".concat(h.root," ").concat(h.form),onSubmit:y,children:[Object(U.jsx)(D.a,{variant:"h6",children:a?'Editing "'.concat(null===O||void 0===O?void 0:O.title,'"'):"Upload your product and set the price"}),Object(U.jsx)(G.a,{name:"title",variant:"outlined",label:"Name of the product",value:b.title,onChange:N}),Object(U.jsx)(G.a,{name:"price",variant:"outlined",label:"Price",id:"price",value:b.price,onChange:N}),Object(U.jsx)("div",{className:h.fileInput,children:Object(U.jsx)(Ae.a,{type:"file",multiple:!1,onDone:function(e){var t=e.base64;return m(Object(j.a)(Object(j.a)({},b),{},{selectedFile:t}))}})}),Object(U.jsx)(Le.a,{value:"end",control:Object(U.jsx)(Fe.a,{checked:l,onChange:function(e){u(e.target.checked)},inputProps:{"aria-label":"controlled"}}),label:w,labelPlacement:"end"}),Object(U.jsx)(D.a,{variant:"h8",children:" "}),Object(U.jsx)(P.a,{className:h.buttonSubmit,variant:"contained",disabled:C,color:"primary",size:"large",type:"submit",children:"Upload"})]})})},qe=function(){var e=Object(n.useState)(0),t=Object(E.a)(e,2),a=t[0],r=t[1];return Object(U.jsxs)("div",{children:[" ",Object(U.jsx)(Be,{currentId:a,setCurrentId:r})]})},Je=function(){var e=JSON.parse(localStorage.getItem("profile"));return Object(U.jsx)(_.a,{children:Object(U.jsxs)(k.a,{maxWidth:"xl",children:[Object(U.jsx)(W,{}),Object(U.jsxs)(I.d,{children:[Object(U.jsx)(I.b,{path:"/",element:Object(U.jsx)(I.a,{to:"/posts",replace:!0})}),Object(U.jsx)(I.b,{path:"/posts",exact:!0,element:Object(U.jsx)(Ne,{})}),Object(U.jsx)(I.b,{path:"/uploading",exact:!0,element:Object(U.jsx)(qe,{})}),Object(U.jsx)(I.b,{path:"/posts/search",exact:!0,element:Object(U.jsx)(Ne,{})}),Object(U.jsx)(I.b,{path:"/tags/:name",exact:!0,element:Object(U.jsx)(Se,{})}),Object(U.jsx)(I.b,{path:"/creators/:name",exact:!0,element:Object(U.jsx)(Se,{})}),Object(U.jsx)(I.b,{path:"/login",exact:!0,element:e?Object(U.jsx)(I.a,{to:"/posts",replace:!0}):Object(U.jsx)(_e,{})}),Object(U.jsx)(I.b,{path:"/termsandconditions",exact:!0,element:Object(U.jsx)(ke,{})}),Object(U.jsx)(I.b,{exact:!0,path:"/register",element:Object(U.jsx)(Ie,{})}),Object(U.jsx)(I.b,{exact:!0,path:"/forgotpassword",element:Object(U.jsx)(Ee,{})}),Object(U.jsx)(I.b,{exact:!0,path:"/passwordreset/:resetToken",element:Object(U.jsx)(Te,{})})]})]})})},Ue=(a(205),Object(l.a)({reducer:S},{},Object(i.c)(Object(i.a)(u.a))));c.a.createRoot(document.getElementById("root")).render(Object(U.jsx)(r.a.StrictMode,{children:Object(U.jsx)(o.a,{store:Ue,children:Object(U.jsx)(Je,{})})}))}},[[206,1,2]]]);
//# sourceMappingURL=main.b5e33191.chunk.js.map